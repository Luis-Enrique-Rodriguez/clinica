<!DOCTYPE html>
<html>
<head>
  <title>Obtener datos de API con Fetch</title>
  <script>
    // Función para obtener los datos de la API
    function ObtenerDatos() {
      fetch('http://localhost/clinica/admin/ws/doctor.php',{method:'GET',headers:{
        'Content-Type': 'application/json'
      }}) // Reemplaza la URL con la de tu API local
        .then(response => response.json())
        .then(data => {
          // Manipula los datos obtenidos de la API
          console.log(data);
          const variable = document.getElementById("datos");
          variable.textContent=JSON.stringify(data,null,2);
          // Aquí puedes hacer lo que quieras con los datos, como mostrarlos en la página HTML
        })
        .catch(error => {
          console.error('Ha ocurrido un error', error);
        });
    }

    function EntrarDatos() {
        body = new FormData()
        body.append('data[nombre]','Carlos Aguilar Ordoñez')
        body.append('data[foto]','')
        body.append('data[curp]','AGOC971215HGTKLI00')
        body.append('data[rfc]','AGOC971215MLN')
        body.append('data[direccion]','Matamoros tamaulipás')
        body.append('data[codigo_postal]','65478')
        body.append('data[telefono]','4613456657')
        body.append('data[cedula_profesional]','765897')
        body.append('data[id_genero]',1)
        body.append('data[id_usuario]',2)
        body.append('data[id_especialidad]',3)
        body.append('data[id_consultorio]',1)
        
      fetch('http://localhost/clinica/admin/ws/doctor.php',{method: 'POST',body:body}) // Reemplaza la URL con la de tu API local
        .then(response => response.json())
        .then(data => {
          // Manipula los datos obtenidos de la API
          console.log(data);
          const variable = document.getElementById("datos");
          variable.textContent=JSON.stringify(data,null,2);
          // Aquí puedes hacer lo que quieras con los datos, como mostrarlos en la página HTML
        })
        .catch(error => {
          console.error('Ha ocurrido un error', error);
        });
    }

    function EliminarDatos() {
      fetch('http://localhost/clinica/admin/ws/doctor?id=9',{method: 'DELETE'}) // Reemplaza la URL con la de tu API local
        .then(response => response.json())
        .then(data => {
          // Manipula los datos obtenidos de la API
          console.log(data);
          const variable = document.getElementById("datos");
          variable.textContent=JSON.stringify(data,null,2);
          // Aquí puedes hacer lo que quieras con los datos, como mostrarlos en la página HTML
        })
        .catch(error => {
          console.error('Ha ocurrido un error', error);
        });
    }
  </script>
</head>
<body>
    <button onclick="ObtenerDatos()">Obtener datos</button>
    <br>
    <button onclick="EntrarDatos()">Meter datos</button>
    <br>
    <button onclick="EliminarDatos()">Eliminar datos</button>
    <h2>Datos: </h2>
    <pre id="datos"></pre>
</body>
</html>